<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nissan Model Review</title>
    <link rel="stylesheet" href="reviewstyle.css"> 
</head>
<body>
    <div class="banner">
        <div class="navbar"></div>
        <ul>
            <li>
                <a href="testreview1.html">
                    <span class="title">Home</span>
                </a>
            <li>
                <a href="#">
                    <span class="title">Models</span>
                </a>
                <ul class="dropdown">
                    <li><a href="Almeracar.html">ALMERA</a></li>
                    <li><a href="Sentracar.html">SENTRA</a></li>
                    <li><a href="Navaracar.html">NAVARA</a></li>
                </ul>
            </li>
            <li>    
                <a href="review.html">
                    <span class="title">Review</span>
                </a>
            </li>
        </ul>
    </div>
<div class="container">
    <form action="https://formspree.io/f/xyyrnnwa" method="post">
    <h1> Review section</h1>
    <br>
    <br>
    <label for="fname">first name:</label>
    <input type="text" id="fname" name="fname" placeholder="First name" required> <br><br>
    <label for="lname">last name:</label>
    <input type="text" id="lname" name="lname" placeholder="Last name" required>
    <br><br>
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" placeholder="Email" required>
    <br><br>
   <h2>Sex</h2>

            <label for="Male">Male</label>
            <input type="radio" id="Male" name="Sex" value="Male">
            <br>
            <label for="Female">Female</label>
            <input type="radio" id="Female" name="Sex" value="Female">
            <br>
            <label for="Mental Illness">Mental Illness</label>
            <input type="radio" id="Mental Illness" name="Sex" value="Mental Illness">
            <br><br>
    <h2>Model</h2>
    <input type="checkbox" name="Model Almera"> Almera 
    <br>
    <input type="checkbox" name="Model Sentra"> Sentra
    <br>
    <input type="checkbox" name="Model Navara"> Navara
    <br>
    <h1>Comment</h1>
    <textarea rows="10" cols="50" placeholder="Write your review here" fontsize="15px"></textarea>
    <br>
   
    <h2>Rate</h2>
    <div class="rating">
        <input type="radio" id="star5" name="rating" value="5 stars"><label for="star5">&#9733;</label>
        <input type="radio" id="star4" name="rating" value="4 stars"><label for="star4">&#9733;</label>
        <input type="radio" id="star3" name="rating" value="3 stars"><label for="star3">&#9733;</label>
        <input type="radio" id="star2" name="rating" value="2 stars"><label for="star2">&#9733;</label>
        <input type="radio" id="star1" name="rating" value="1 star"><label for="star1">&#9733;</label>
    </div>
    <button type="submit">Submit reivew</button>
    <input type="reset">
    </form>
</div>
</div>
<audio id="bgAudio" loop>
    <source src="bg music.mp3" type="audio/mpeg">
</audio>

<button id="toggleButton">Toggle Music</button>

<script>
      document.getElementById("form").addEventListener("submit", function (e) {
        e.preventDefault(); 
        document.getElementById("message").textContent = "Submitting..";
        document.getElementById("message").style.display = "block";
        document.getElementById("submit-button").disabled = true;

       
        var formData = new FormData(this);
        var keyValuePairs = [];
        for (var pair of formData.entries()) {
          keyValuePairs.push(pair[0] + "=" + pair[1]);
        }

        var formDataString = keyValuePairs.join("&");

        // Send a POST request to your Google Apps Script
        fetch(
          "https://script.google.com/macros/s/AKfycbz_aHKLvz6LO3NT9y9HS9FuIlQ8NZadn2fHcn66HBaT7nheUKF3jJ6eaUN9piFKiD4l/exec",
          {
            redirect: "follow",
            method: "POST",
            body: formDataString,
            headers: {
              "Content-Type": "text/plain;charset=utf-8",
            },
          }
        )
          .then(function (response) {
            // Check if the request was successful
            if (response) {
              return response; // Assuming your script returns JSON response
            } else {
              throw new Error("Failed to submit the form.");
            }
          })
          .then(function (data) {
            // Display a success message
            document.getElementById("message").textContent =
              "Data submitted successfully!";
            document.getElementById("message").style.display = "block";
            document.getElementById("message").style.backgroundColor = "green";
            document.getElementById("message").style.color = "beige";
            document.getElementById("submit-button").disabled = false;
            document.getElementById("form").reset();

            setTimeout(function () {
              document.getElementById("message").textContent = "";
              document.getElementById("message").style.display = "none";
            }, 2600);
          })
          .catch(function (error) {
            // Handle errors, you can display an error message here
            console.error(error);
            document.getElementById("message").textContent =
              "An error occurred while submitting the form.";
            document.getElementById("message").style.display = "block";
          });
      });
    </script>
</body>
</html>
